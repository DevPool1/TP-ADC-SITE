"use strict";(globalThis.webpackChunktp_adc_site=globalThis.webpackChunktp_adc_site||[]).push([[4966],{5341:e=>{e.exports=JSON.parse('{"archive":{"blogPosts":[{"id":"arquitetura-sqlite","metadata":{"permalink":"/TP-ADC-SITE/blog/arquitetura-sqlite","editUrl":"https://github.com/DevPool1/TP-ADC-SITE/blog/2025-12-17-arquitetura-sqlite.md","source":"@site/blog/2025-12-17-arquitetura-sqlite.md","title":"\ud83d\uddc4\ufe0f Ingredientes e Tabelas: A BD da Nutri App","description":"A Nutri App utiliza o motor SQLite para uma gest\xe3o de dados leve e eficiente.","date":"2025-12-17T00:00:00.000Z","tags":[],"readingTime":1.83,"hasTruncateMarker":false,"authors":[{"name":"Andr\xe9 Nunes","title":"UI/UX Designer & Frontend","url":"https://github.com/a89979","imageURL":"https://github.com/a89979.png","key":"andre","page":null}],"frontMatter":{"slug":"arquitetura-sqlite","title":"\ud83d\uddc4\ufe0f Ingredientes e Tabelas: A BD da Nutri App","authors":["andre"],"keywords":["sqlite","database","arquitetura","python"],"date":"2025-12-17T00:00:00.000Z"},"unlisted":false,"nextItem":{"title":"\ud83e\udd51 Arquitetura do NutriApp: Python Console com SQLite","permalink":"/TP-ADC-SITE/blog/tech-stack-nutriapp"}},"content":"A Nutri App utiliza o motor **SQLite** para uma gest\xe3o de dados leve e eficiente.\\n\\n### Porqu\xea SQLite?\\nComo a nossa aplica\xe7\xe3o \xe9 focada na simplicidade, usamos o `sqlite3` nativo do Python. O ficheiro da base de dados vive em `data/nutricao.db`.\\n\\n### \ud83d\udc64 Tabela: **Users**\\nGuarda os dados de login e as m\xe9tricas corporais do utilizador.\\n\\n| Coluna | Tipo | Notas |\\n| :--- | :--- | :--- |\\n| `user_id` | INTEGER | Primary Key (Auto) |\\n| `username` | TEXT | \xdanico |\\n| `password_hash` | TEXT | Encriptado |\\n| `role` | TEXT | Default: \'user\' |\\n| `peso_kg` | REAL | Peso atual |\\n| `altura_cm` | INTEGER | Altura em cm |\\n| `objetivo_calorias` | INTEGER | Meta di\xe1ria |\\n\\n### \ud83c\udf4e Tabela: **Alimentos**\\nO nosso cat\xe1logo nutricional. Cada alimento tem os seus macros definidos por por\xe7\xe3o.\\n\\n| Coluna | Tipo | Descri\xe7\xe3o |\\n| :--- | :--- | :--- |\\n| `alimento_id` | INTEGER | ID Sequencial |\\n| `nome` | TEXT | Nome \xfanico do prato |\\n| `calorias` | INTEGER | Kcal (por 100g) |\\n| `proteinas` | REAL | Gramas de prote\xedna |\\n| `hidratos` | REAL | Gramas de hidratos |\\n| `gorduras` | REAL | Gramas de gordura |\\n\\n### \ud83d\udcc5 Tabela: **registos_diarios**\\nA tabela de liga\xe7\xe3o que cruza \\"Quem comeu\\" com \\"O que comeu\\".\\n\\n| Coluna | Tipo | Rela\xe7\xe3o |\\n| :--- | :--- | :--- |\\n| `user_id` | INTEGER | FK -> users |\\n| `alimento_id` | INTEGER | FK -> alimentos |\\n| `quantidade_gramas`| REAL | Por\xe7\xe3o ingerida |\\n\\n### Diagrama ER\\n```mermaid\\nerDiagram\\n    USERS {\\n        int user_id\\n        string username\\n        real peso_kg\\n    }\\n    ALIMENTOS {\\n        int alimento_id\\n        string nome\\n        int calorias\\n    }\\n    USERS ||--o{ REGISTOS_DIARIOS : \\"regista\\"\\n    ALIMENTOS ||--o{ REGISTOS_DIARIOS : \\"cont\xe9m\\"\\n    REGISTOS_DIARIOS {\\n        string data_registo\\n        real quantidade_gramas\\n    }\\n```\\n    \\n### Como nos ligamos?\\nUsamos a fun\xe7\xe3o `get_db_connection` para garantir que a pasta de dados existe e ligar o modo de dicion\xe1rios:\\n\\n```python\\ndef get_db_connection():\\n    os.makedirs(DATA_DIR, exist_ok=True) # Cria a pasta data/ se n\xe3o existir\\n\\n    conn = sqlite3.connect(DB_PATH)\\n    conn.row_factory = sqlite3.Row # Permite aceder colunas por nome\\n    return conn\\n```\\n> Usamos os.path.join para garantir que o caminho funciona tanto em Windows como em Mac/Linux.\\n\\n### Schema SQL\\nO nosso script cria as tabelas automaticamente se n\xe3o existirem:\\n```sql\\nCREATE TABLE IF NOT EXISTS users ( -- Cria a tabela de utilizadores se ela n\xe3o existir\\n    user_id INTEGER PRIMARY KEY AUTOINCREMENT,\\n    username TEXT UNIQUE NOT NULL,\\n    ...\\n);\\n```\\n\\n\\n:::warning Datas em SQLite\\nComo o SQLite n\xe3o tem tipo `DATE` nativo, armazenamos a `data_registo` como **TEXT** (ISO 8601).\\n:::\\n\\n### Seeding (Dados Iniciais)\\nTemos uma fun\xe7\xe3o `popular_base_dados()` que insere automaticamente:\\n* Ma\xe7\xe3 \ud83c\udf4e\\n* Peito de Frango \ud83c\udf57\\n* Arroz Branco \ud83c\udf5a\\n\\n:::info Ferramentas\\nUsa a extens\xe3o \\"SQLite Viewer\\" no VS Code para veres os dados.\\n:::\\n\\n### Conclus\xe3o\\nEsta estrutura simples permite-nos calcular as calorias totais de um utilizador com um simples `JOIN` entre as tr\xeas tabelas."},{"id":"tech-stack-nutriapp","metadata":{"permalink":"/TP-ADC-SITE/blog/tech-stack-nutriapp","editUrl":"https://github.com/DevPool1/TP-ADC-SITE/blog/2025-12-12-tech-stack.md","source":"@site/blog/2025-12-12-tech-stack.md","title":"\ud83e\udd51 Arquitetura do NutriApp: Python Console com SQLite","description":"Como constru\xedmos uma aplica\xe7\xe3o console robusta para gest\xe3o nutricional usando Python 3.10+, SQLite3 e padr\xf5es de arquitetura limpa. Este post detalha as decis\xf5es t\xe9cnicas por tr\xe1s do NutriApp.","date":"2025-12-12T00:00:00.000Z","tags":[{"inline":true,"label":"python","permalink":"/TP-ADC-SITE/blog/tags/python"},{"inline":true,"label":"sqlite","permalink":"/TP-ADC-SITE/blog/tags/sqlite"},{"inline":false,"label":"Arquitetura","permalink":"/TP-ADC-SITE/blog/tags/arquitetura","description":"Decis\xf5es de arquitetura e design de sistema"},{"inline":false,"label":"Desenvolvimento","permalink":"/TP-ADC-SITE/blog/tags/desenvolvimento","description":"Processo de desenvolvimento e boas pr\xe1ticas"}],"readingTime":9.71,"hasTruncateMarker":true,"authors":[{"name":"Alexandru Tutunaru","title":"Tech Lead & Arquiteto","url":"https://github.com/ATutunaru","imageURL":"https://github.com/ATutunaru.png","key":"alexandru","page":null}],"frontMatter":{"slug":"tech-stack-nutriapp","title":"\ud83e\udd51 Arquitetura do NutriApp: Python Console com SQLite","authors":["alexandru"],"tags":["python","sqlite","arquitetura","desenvolvimento"],"date":"2025-12-12T00:00:00.000Z"},"unlisted":false,"prevItem":{"title":"\ud83d\uddc4\ufe0f Ingredientes e Tabelas: A BD da Nutri App","permalink":"/TP-ADC-SITE/blog/arquitetura-sqlite"},"nextItem":{"title":"\ud83d\udd10 Seguran\xe7a: Fazemos Hash de Passwords, n\xe3o de Batatas","permalink":"/TP-ADC-SITE/blog/seguranca-passwords-hash"}},"content":"Como constru\xedmos uma aplica\xe7\xe3o console robusta para gest\xe3o nutricional usando Python 3.10+, SQLite3 e padr\xf5es de arquitetura limpa. Este post detalha as decis\xf5es t\xe9cnicas por tr\xe1s do **NutriApp**.\\n\\n\x3c!-- truncate --\x3e\\n\\n## \ufffd\ufe0f Arquitetura MVC em Python\\n\\nO NutriApp segue o padr\xe3o **Model-View-Controller**, separando l\xf3gica de neg\xf3cio, apresenta\xe7\xe3o e controlo numa aplica\xe7\xe3o console.\\n\\n```mermaid\\ngraph TB\\n    subgraph View\\n        A[menus.py] --\x3e B[Terminal UI]\\n    end\\n    \\n    subgraph Controller\\n        C[main.py] --\x3e D[Flow Control]\\n        D --\x3e E[Match/Case Python 3.10+]\\n    end\\n    \\n    subgraph Model\\n        F[user.py / admin.py] --\x3e G[Business Logic]\\n        H[crud_*.py] --\x3e I[Database Operations]\\n        J[database.py] --\x3e K[SQLite Connection]\\n    end\\n    \\n    subgraph Infrastructure\\n        L[logging_config.py] --\x3e M[File Logging]\\n        N[utils.py] --\x3e O[Helper Functions]\\n    end\\n    \\n    B --\x3e D\\n    D --\x3e G\\n    D --\x3e I\\n    I --\x3e K\\n    M --\x3e D\\n    O --\x3e D\\n    \\n    style A fill:#3776ab\\n    style C fill:#ffd343\\n    style F fill:#68a063\\n    style J fill:#003b57\\n```\\n\\n**Separa\xe7\xe3o de Responsabilidades:**\\n- **View** (menus.py): Apenas imprime e pede input\\n- **Controller** (main.py): Orquestra a aplica\xe7\xe3o com `match/case`\\n- **Model** (classes + CRUD): L\xf3gica de neg\xf3cio e acesso a dados\\n\\n---\\n\\n## \ufffd Por Que Python 3.10+?\\n\\n### Python vs Outras Linguagens\\n\\n**Veredito:** Python \xe9 perfeito para aplica\xe7\xf5es onde produtividade > performance bruta.\\n\\n### Match/Case: A Funcionalidade Killer do Python 3.10\\n\\n```python\\n# \u274c Python 3.9: if/elif cascata\\nchoice = input(\\"Escolha: \\")\\nif choice == \'1\':\\n    registar_refeicao()\\nelif choice == \'2\':\\n    ver_diario()\\nelif choice == \'3\':\\n    editar_registo()\\n# ... 10 op\xe7\xf5es depois ...\\n\\n# \u2705 Python 3.10+: match/case limpo\\nmatch choice:\\n    case \'1\': registar_refeicao()\\n    case \'2\': ver_diario()\\n    case \'3\': editar_registo()\\n    case \'0\': logout()\\n    case _: print(\\"Op\xe7\xe3o inv\xe1lida\\")\\n```\\n\\n:::tip Benef\xedcio Real\\nO `match/case` tornou o [main.py](https://github.com/DevPool1/ADC_TP_NUTRICAO/blob/main/src/main.py) **40% mais leg\xedvel** comparado com if/elif!\\n:::\\n\\n### SQLite Nativo: Zero Depend\xeancias\\n\\n```python\\nimport sqlite3  # Nativo! Sem pip install\\n\\n# Context manager autom\xe1tico\\nwith get_db_connection() as conn:\\n    cursor = conn.cursor()\\n    cursor.execute(\\"SELECT * FROM users WHERE username = ?\\", (username,))\\n    return cursor.fetchone()\\n```\\n\\n**Por que SQLite vs PostgreSQL/MySQL?**\\n- \u2705 Zero configura\xe7\xe3o (ficheiro `data/nutricao.db`)\\n- \u2705 Transa\xe7\xf5es ACID completas\\n- \u2705 Perfeito para ~100k registos\\n- \u2705 Cross-platform (funciona em Windows/Linux/Mac)\\n\\n---\\n\\n## \ud83d\uddc2\ufe0f M\xf3dulos CRUD: Separa\xe7\xe3o de Responsabilidades\\n\\n### Organiza\xe7\xe3o do C\xf3digo\\n\\n```\\nsrc/\\n\u251c\u2500\u2500 main.py              # Controller: Orquestra tudo\\n\u251c\u2500\u2500 menus.py             # View: UI em terminal\\n\u251c\u2500\u2500 user.py / admin.py   # Model: Classes de dom\xednio\\n\u251c\u2500\u2500 crud_login.py        # CRUD: Gest\xe3o de utilizadores\\n\u251c\u2500\u2500 crud_alimentos.py    # CRUD: Gest\xe3o de alimentos\\n\u251c\u2500\u2500 crud_registos.py     # CRUD: Di\xe1rio de refei\xe7\xf5es\\n\u251c\u2500\u2500 database.py          # Conex\xe3o SQLite\\n\u251c\u2500\u2500 logging_config.py    # Sistema de logging\\n\u2514\u2500\u2500 utils.py             # Fun\xe7\xf5es auxiliares\\n```\\n\\n### Exemplo: CRUD de Alimentos\\n\\n```python\\n# crud_alimentos.py\\ndef create_alimento(nome, calorias, proteinas, hidratos, gorduras):\\n    \\"\\"\\"Cria um novo alimento na base de dados.\\"\\"\\"\\n    sql = \\"\\"\\"INSERT INTO alimentos(nome, calorias, proteinas, hidratos, gorduras) \\n             VALUES (?, ?, ?, ?, ?)\\"\\"\\"\\n    try:\\n        with get_db_connection() as conn:\\n            cursor = conn.cursor()\\n            cursor.execute(sql, (nome, calorias, proteinas, hidratos, gorduras))\\n            conn.commit()\\n            return cursor.lastrowid\\n    except sqlite3.IntegrityError:\\n        print(f\\"Erro: Alimento \'{nome}\' j\xe1 existe.\\")\\n        return None\\n```\\n\\n:::info Boa Pr\xe1tica\\nCada m\xf3dulo `crud_*.py` cont\xe9m **apenas opera\xe7\xf5es de base de dados**. Zero l\xf3gica de UI!\\n:::\\n\\n### Classes OOP: User e Admin\\n\\n```python\\n# user.py\\nclass User:\\n    def __init__(self, username, peso_kg, altura_cm, objetivo_calorias):\\n        self.username = username\\n        self.peso_kg = peso_kg\\n        self.altura_cm = altura_cm\\n        self.objetivo_calorias = objetivo_calorias\\n    \\n    @property\\n    def imc(self):\\n        \\"\\"\\"Calcula IMC automaticamente.\\"\\"\\"\\n        if self.peso_kg and self.altura_cm:\\n            altura_m = self.altura_cm / 100\\n            return round(self.peso_kg / (altura_m ** 2), 1)\\n        return None\\n    \\n    def categoria_imc(self):\\n        \\"\\"\\"Retorna categoria do IMC.\\"\\"\\"\\n        if not self.imc:\\n            return \\"Dados insuficientes\\"\\n        if self.imc < 18.5:\\n            return \\"Abaixo do Peso\\"\\n        elif self.imc < 25:\\n            return \\"Peso Normal\\"\\n        # ... mais categorias\\n```\\n\\n```python\\n# admin.py\\nclass Admin(User):\\n    \\"\\"\\"Heran\xe7a! Admin \xe9 um User com superpoderes.\\"\\"\\"\\n    \\n    @staticmethod\\n    def listar_utilizadores():\\n        \\"\\"\\"M\xe9todo exclusivo de admin.\\"\\"\\"\\n        sql = \\"SELECT username, role FROM users ORDER BY username\\"\\n        with get_db_connection() as conn:\\n            cursor = conn.cursor()\\n            cursor.execute(sql)\\n            return cursor.fetchall()\\n```\\n\\n---\\n\\n## \ud83d\uddc4\ufe0f Esquema da Base de Dados SQLite\\n\\n### Modelo Relacional\\n\\n```mermaid\\nerDiagram\\n    USERS ||--o{ REGISTOS_DIARIOS : cria\\n    ALIMENTOS ||--o{ REGISTOS_DIARIOS : contem\\n    \\n    USERS {\\n        int user_id PK\\n        string username UK\\n        string password_hash\\n        float peso_kg\\n        int altura_cm\\n        int objetivo_calorias\\n        string role\\n    }\\n    \\n    ALIMENTOS {\\n        int alimento_id PK\\n        string nome UK\\n        int calorias\\n        float proteinas\\n        float hidratos\\n        float gorduras\\n    }\\n    \\n    REGISTOS_DIARIOS {\\n        int registo_id PK\\n        int user_id FK\\n        int alimento_id FK\\n        string data_registo\\n        float quantidade_gramas\\n        string tipo_refeicao\\n    }\\n```\\n\\n### Query Complexa: Calorias Totais por Refei\xe7\xe3o\\n\\n```python\\n# crud_registos.py\\ndef get_registos_by_user(user_id, data_str=None):\\n    \\"\\"\\"Obt\xe9m registos com JOIN para calcular calorias.\\"\\"\\"\\n    sql = \\"\\"\\"\\n    SELECT \\n        r.registo_id,\\n        r.data_registo,\\n        r.tipo_refeicao,\\n        r.quantidade_gramas,\\n        a.nome as alimento_nome,\\n        a.calorias,\\n        a.proteinas,\\n        (a.calorias * r.quantidade_gramas / 100.0) as calorias_total,\\n        (a.proteinas * r.quantidade_gramas / 100.0) as proteinas_total\\n    FROM registos_diarios r\\n    JOIN alimentos a ON r.alimento_id = a.alimento_id\\n    WHERE r.user_id = ?\\n    ORDER BY r.data_registo DESC\\n    \\"\\"\\"\\n```\\n\\n:::tip Performance\\nO SQLite usa **row_factory = sqlite3.Row** para retornar dicion\xe1rios em vez de tuplas!\\n:::\\n\\n---\\n\\n## \ud83d\udd10 Autentica\xe7\xe3o Segura com hashlib\\n\\n### Fluxo de Login\\n\\n```mermaid\\nsequenceDiagram\\n    autonumber\\n    participant U as User\\n    participant M as main.py\\n    participant C as crud_login.py\\n    participant DB as SQLite\\n    participant H as utils.py\\n    \\n    U->>M: Input username + password\\n    M->>C: login(username, password)\\n    C->>DB: SELECT * WHERE username = ?\\n    DB--\x3e>C: {user_id, username, password_hash}\\n    C->>H: check_password(hash, password)\\n    H->>H: hashlib.sha256(password)\\n    \\n    alt Password V\xe1lida\\n        H--\x3e>C: True\\n        C--\x3e>M: user_record\\n        M->>M: user_logado = user_record\\n        M--\x3e>U: Redireciona para menu_logado()\\n    else Password Inv\xe1lida (3 tentativas)\\n        H--\x3e>C: False\\n        C--\x3e>M: None\\n        M--\x3e>U: \\"Login falhou\\"\\n    end\\n```\\n\\n### Hashing de Passwords\\n\\n```python\\n# utils.py\\nimport hashlib\\n\\ndef hash_password(password_plain: str) -> str:\\n    \\"\\"\\"Gera hash SHA-256 da password.\\"\\"\\"\\n    return hashlib.sha256(password_plain.encode(\'utf-8\')).hexdigest()\\n\\ndef check_password(stored_hash: str, password_plain: str) -> bool:\\n    \\"\\"\\"Verifica se a password corresponde ao hash.\\"\\"\\"\\n    return stored_hash == hash_password(password_plain)\\n```\\n\\n```python\\n# crud_login.py\\ndef login(username, password_plain):\\n    \\"\\"\\"Login com 3 tentativas para a password.\\"\\"\\"\\n    sql = \\"SELECT * FROM users WHERE username = ?\\"\\n    \\n    with get_db_connection() as conn:\\n        cursor = conn.cursor()\\n        cursor.execute(sql, (username,))\\n        user_record = cursor.fetchone()\\n        \\n        if not user_record:\\n            print(\\"Utilizador n\xe3o encontrado\\")\\n            return None\\n        \\n        # Sistema de 3 tentativas\\n        tentativas = 0\\n        while tentativas < 3:\\n            if check_password(user_record[\'password_hash\'], password_plain):\\n                print(\\"Login bem sucedido\\")\\n                return user_record\\n            else:\\n                tentativas += 1\\n                if tentativas < 3:\\n                    print(\\"Password errada... Tente Novamente\\")\\n                    password_plain = getpass.getpass(\\"Password: \\")\\n        \\n        print(\\"N\xfamero m\xe1ximo de tentativas excedido.\\")\\n        return None\\n```\\n\\n:::warning Seguran\xe7a\\nUsamos `getpass.getpass()` para **n\xe3o mostrar a password no terminal** durante o input!\\n:::\\n\\n---\\n\\n## \ufffd Sistema de Logging com M\xf3dulo Nativo\\n\\n### Por Que Logging?\\n\\nNuma aplica\xe7\xe3o console **n\xe3o temos DevTools do browser**. O logging \xe9 crucial para:\\n- Auditoria de a\xe7\xf5es de utilizadores\\n- Debugging de erros em produ\xe7\xe3o\\n- Conformidade com requisitos de seguran\xe7a\\n\\n### Configura\xe7\xe3o Centralizada\\n\\n```python\\n# logging_config.py\\nimport logging\\nimport datetime\\nimport os\\n\\ndef setup_logging():\\n    \\"\\"\\"Configura logging com rota\xe7\xe3o di\xe1ria.\\"\\"\\"\\n    log_dir = \\"logs\\"\\n    os.makedirs(log_dir, exist_ok=True)\\n    \\n    log_file = f\\"{log_dir}/nutriapp_{datetime.date.today()}.log\\"\\n    \\n    logging.basicConfig(\\n        level=logging.INFO,\\n        format=\'%(asctime)s - %(name)s - %(levelname)s - %(message)s\',\\n        handlers=[\\n            logging.FileHandler(log_file),\\n        ]\\n    )\\n\\ndef get_logger(name):\\n    \\"\\"\\"Retorna logger configurado.\\"\\"\\"\\n    return logging.getLogger(name)\\n```\\n\\n### Uso no C\xf3digo\\n\\n```python\\n# main.py\\nimport logging_config\\n\\ndef main():\\n    logging_config.setup_logging()\\n    logger = logging_config.get_logger(__name__)\\n    \\n    logger.info(\\"Sistema iniciado\\")\\n    \\n    # ... c\xf3digo ...\\n    \\n    if user_logado:\\n        logger.info(f\\"Login sucesso. UserID: {user_id}, Username: {username}\\")\\n    else:\\n        logger.warning(f\\"Login falhado para username: {username}\\")\\n```\\n\\n**Output em `logs/nutriapp_2025-12-13.log`:**\\n```\\n2025-12-13 10:23:45 - __main__ - INFO - Sistema iniciado\\n2025-12-13 10:24:12 - __main__ - INFO - Login sucesso. UserID: 5, Username: andre\\n2025-12-13 10:25:03 - __main__ - INFO - Menu User. UserID: 5. Detalhes: Registou refei\xe7\xe3o: Almo\xe7o\\n```\\n\\n:::info Boa Pr\xe1tica\\nLogs **nunca** armazenam passwords! Apenas eventos e identificadores.\\n:::\\n\\n---\\n\\n## \ufffd Funcionalidades Avan\xe7adas\\n\\n### 1. Opera\xe7\xf5es em Lote (Admin)\\n\\n```python\\n# admin.py\\n@staticmethod\\ndef inserir_em_lote():\\n    \\"\\"\\"Insere m\xfaltiplos alimentos de uma vez.\\"\\"\\"\\n    print(\\"Formato: nome,calorias,proteinas,hidratos,gorduras,nome,...\\")\\n    lote = input(\\"Dados>>> \\")\\n    dados = [x.strip() for x in lote.split(\\",\\")]\\n    \\n    if len(dados) % 5 != 0:\\n        print(\\"Erro: formato inv\xe1lido\\")\\n        return\\n    \\n    lote_dados = []\\n    for i in range(0, len(dados), 5):\\n        nome = dados[i]\\n        calorias = int(dados[i+1])\\n        proteinas = float(dados[i+2])\\n        hidratos = float(dados[i+3])\\n        gorduras = float(dados[i+4])\\n        lote_dados.append((nome, calorias, proteinas, hidratos, gorduras))\\n    \\n    sql = \\"\\"\\"INSERT OR IGNORE INTO alimentos \\n             (nome, calorias, proteinas, hidratos, gorduras)\\n             VALUES (?, ?, ?, ?, ?)\\"\\"\\"\\n    \\n    with get_db_connection() as conn:\\n        cursor = conn.cursor()\\n        cursor.executemany(sql, lote_dados)  # Batch insert!\\n        conn.commit()\\n```\\n\\n:::tip Performance\\n`executemany()` \xe9 **10x mais r\xe1pido** que m\xfaltiplos `execute()` individuais!\\n:::\\n\\n### 2. Agrupamento de Refei\xe7\xf5es por Data\\n\\n```python\\n# main.py - L\xf3gica de agrupamento no controller\\nregistos = crud_registos.get_registos_by_user(user_id_logado)\\n\\nrefeicoes_agrupadas = {}\\nfor reg in registos:\\n    data_limpa = reg[\'data_registo\'].split(\'T\')[0]  # 2025-12-13\\n    chave = f\\"{data_limpa} | {reg[\'tipo_refeicao\']}\\"  # \\"2025-12-13 | Almo\xe7o\\"\\n    \\n    if chave not in refeicoes_agrupadas:\\n        refeicoes_agrupadas[chave] = []\\n    refeicoes_agrupadas[chave].append(reg)\\n\\n# Output organizado por refei\xe7\xe3o\\nfor refeicao_titulo, lista_items in refeicoes_agrupadas.items():\\n    print(f\\"\\\\nREFEI\xc7\xc3O: {refeicao_titulo}\\")\\n    subtotal_cal = 0\\n    \\n    for reg in lista_items:\\n        print(f\\"- {reg[\'alimento_nome\']} ({reg[\'quantidade_gramas\']}g) -> {reg[\'calorias_total\']:.1f} kcal\\")\\n        subtotal_cal += reg[\'calorias_total\']\\n    \\n    print(f\\"Subtotal: {subtotal_cal:.1f} kcal\\")\\n```\\n\\n### 3. C\xe1lculo Autom\xe1tico de IMC\\n\\n```python\\n# user.py\\n@property\\ndef imc(self):\\n    \\"\\"\\"Property din\xe2mica - calcula sempre que acedida.\\"\\"\\"\\n    if self.peso_kg and self.altura_cm:\\n        altura_m = self.altura_cm / 100\\n        return round(self.peso_kg / (altura_m ** 2), 1)\\n    return None\\n\\ndef categoria_imc(self):\\n    \\"\\"\\"Retorna categoria baseada em guidelines WHO.\\"\\"\\"\\n    if not self.imc:\\n        return \\"Dados insuficientes\\"\\n    if self.imc < 18.5:\\n        return \\"Abaixo do Peso\\"\\n    elif self.imc < 25:\\n        return \\"Peso Normal\\"\\n    elif self.imc < 30:\\n        return \\"Sobrepeso\\"\\n    else:\\n        return \\"Obesidade\\"\\n```\\n\\n---\\n\\n## \ud83d\udca1 Li\xe7\xf5es Aprendidas\\n\\n### 1. Match/Case \xe9 Game Changer\\nInicialmente us\xe1mos `if/elif` cascatas. Refactorizar para `match/case` melhorou a legibilidade drasticamente.\\n\\n```python\\n# \u274c Antes: 100 linhas de if/elif\\nif choice == \'1\':\\n    # 20 linhas\\nelif choice == \'2\':\\n    # 15 linhas\\n# ... ad nauseam\\n\\n# \u2705 Depois: Estrutura clara\\nmatch choice:\\n    case \'1\': registar_refeicao()\\n    case \'2\': ver_diario()\\n    # Cada fun\xe7\xe3o < 50 linhas\\n```\\n\\n### 2. Context Managers Previnem Leaks\\n\\n```python\\n# \u274c M\xe1 pr\xe1tica: Esquecer de fechar\\nconn = sqlite3.connect(DB_PATH)\\ncursor = conn.cursor()\\ncursor.execute(sql)\\n# Oops! Esqueci conn.close()\\n\\n# \u2705 Boa pr\xe1tica: Autom\xe1tico\\nwith get_db_connection() as conn:\\n    cursor = conn.cursor()\\n    cursor.execute(sql)\\n    # conn.close() chamado automaticamente!\\n```\\n\\n### 3. Docstrings S\xe3o Documenta\xe7\xe3o Viva\\n\\nUs\xe1mos **Sphinx** para gerar documenta\xe7\xe3o HTML autom\xe1tica:\\n\\n```python\\ndef create_user(username, password_plain, peso_kg=None, altura_cm=None):\\n    \\"\\"\\"\\n    Cria novo utilizador na base de dados.\\n\\n    :param username: Nome do utilizador\\n    :type username: str\\n    :param password_plain: Password em texto simples (ser\xe1 hasheada)\\n    :type password_plain: str\\n    :param peso_kg: Peso em quilogramas\\n    :type peso_kg: float\\n    :return: ID do utilizador criado ou None se j\xe1 existir\\n    :rtype: int or None\\n    \\"\\"\\"\\n```\\n\\n**Resultado:** Documenta\xe7\xe3o completa em `docs/_build/html/index.html`\\n\\n:::tip Produtividade\\nDocstrings bem escritas pouparam-nos **horas** a explicar o c\xf3digo \xe0 equipa!\\n:::\\n\\n---\\n\\n## \ud83d\udd2e Roadmap: De Console para Web\\n\\n### Fase 1: API REST (Em Progresso)\\n- [ ] FastAPI backend preservando l\xf3gica CRUD\\n- [ ] Endpoints: `/api/auth`, `/api/foods`, `/api/meals`\\n- [ ] Migra\xe7\xe3o SQLite \u2192 PostgreSQL\\n- [ ] Autentica\xe7\xe3o com JWT\\n\\n### Fase 2: Frontend React\\n- [ ] Interface web responsiva\\n- [ ] Dashboard com gr\xe1ficos de calorias\\n- [ ] Busca de alimentos em tempo real\\n- [ ] PWA para uso offline\\n\\n### Fase 3: Features Avan\xe7adas\\n- [ ] An\xe1lise nutricional com machine learning\\n- [ ] Integra\xe7\xe3o com APIs de alimentos (USDA, Open Food Facts)\\n- [ ] Exporta\xe7\xe3o de dados em PDF\\n- [ ] App mobile com React Native\\n\\n---\\n\\n## \ud83c\udf93 Recursos para Aprender\\n\\n| Tecnologia | Recurso Recomendado | N\xedvel |\\n|------------|---------------------|-------|\\n| Python 3.10+ | [docs.python.org](https://docs.python.org/3/) | Todos |\\n| SQLite | [SQLite Tutorial](https://www.sqlitetutorial.net/) | Todos |\\n| Arquitetura MVC | [Real Python - MVC](https://realpython.com/the-model-view-controller-mvc-paradigm-summarized-with-legos/) | Interm\xe9dio |\\n| Sphinx Docs | [Sphinx Documentation](https://www.sphinx-doc.org/) | Interm\xe9dio |\\n| Git Flow | [Atlassian Git Flow](https://www.atlassian.com/git/tutorials/comparing-workflows/gitflow-workflow) | Todos |\\n\\n---\\n\\n## \ud83d\udcc8 Estat\xedsticas do Projeto\\n\\n| M\xe9trica | Valor |\\n|---------|-------|\\n| **Linhas de C\xf3digo** | ~650 (main.py) + 500 (m\xf3dulos) |\\n| **Ficheiros Python** | 10 m\xf3dulos + 8 RST docs |\\n| **Commits Git** | 137+ (m\xfaltiplos branches) |\\n| **Tabelas BD** | 3 (users, alimentos, registos) |\\n| **Funcionalidades** | 15+ (CRUD completo) |\\n| **Tempo de Desenvolvimento** | 3 semanas (4 developers) |\\n\\n---\\n\\n## \ud83e\udd1d Conclus\xe3o\\n\\nO NutriApp demonstra que **simplicidade t\xe9cnica** n\xe3o significa **funcionalidade limitada**. Com Python, SQLite e padr\xf5es de arquitetura s\xf3lidos, cri\xe1mos uma aplica\xe7\xe3o:\\n\\n\u2705 **Robusta:** Transa\xe7\xf5es ACID, hashing de passwords, logging completo  \\n\u2705 **Escal\xe1vel:** Arquitetura MVC facilita migra\xe7\xe3o para web  \\n\u2705 **Manuten\xedvel:** C\xf3digo documentado com Sphinx, separa\xe7\xe3o clara de responsabilidades  \\n\u2705 **Educacional:** Perfeita para aprender fundamentos de engenharia de software  \\n\\n### Principais Takeaways\\n\\n1. **Python 3.10+ `match/case`** torna controllers muito mais leg\xedveis\\n2. **SQLite** \xe9 surpreendentemente poderoso para apps pequenas/m\xe9dias\\n3. **Arquitetura MVC** funciona perfeitamente em aplica\xe7\xf5es console\\n4. **Logging** \xe9 essencial quando n\xe3o h\xe1 UI visual\\n5. **Docstrings** s\xe3o investimento que se paga rapidamente\\n\\n### Reposit\xf3rio do C\xf3digo\\n\\n\ud83d\udd17 **GitHub:** [DevPool1/ADC_TP_NUTRICAO](https://github.com/DevPool1/ADC_TP_NUTRICAO)\\n\\n```bash\\n# Clone e executa\\ngit clone https://github.com/DevPool1/ADC_TP_NUTRICAO\\ncd ADC_TP_NUTRICAO\\npython src/main.py\\n\\n# Credenciais padr\xe3o\\n# Username: admin1\\n# Password: 123\\n```\\n\\nTens d\xfavidas sobre alguma escolha t\xe9cnica? **Abre uma [Issue](https://github.com/DevPool1/ADC_TP_NUTRICAO/issues) ou [Discussion](https://github.com/DevPool1/TP-ADC-SITE/discussions)!**\\n\\n---\\n\\n![](https://img.shields.io/badge/Python-3.10+-3776ab?style=for-the-badge&logo=python)\\n![](https://img.shields.io/badge/Database-SQLite-003b57?style=for-the-badge&logo=sqlite)\\n![](https://img.shields.io/badge/Architecture-MVC-ffd343?style=for-the-badge)\\n![](https://img.shields.io/badge/Docs-Sphinx-000000?style=for-the-badge&logo=sphinx)"},{"id":"seguranca-passwords-hash","metadata":{"permalink":"/TP-ADC-SITE/blog/seguranca-passwords-hash","editUrl":"https://github.com/DevPool1/TP-ADC-SITE/blog/2025-12-10-seguranca.md","source":"@site/blog/2025-12-10-seguranca.md","title":"\ud83d\udd10 Seguran\xe7a: Fazemos Hash de Passwords, n\xe3o de Batatas","description":"Na Nutri App, levamos a seguran\xe7a t\xe3o a s\xe9rio como a contagem de macronutrientes.","date":"2025-12-06T00:00:00.000Z","tags":[{"inline":false,"label":"Backend","permalink":"/TP-ADC-SITE/blog/tags/backend","description":"Desenvolvimento do lado do servidor"},{"inline":false,"label":"Seguran\xe7a","permalink":"/TP-ADC-SITE/blog/tags/seguranca","description":"Seguran\xe7a da aplica\xe7\xe3o e dados"},{"inline":false,"label":"Criptografia","permalink":"/TP-ADC-SITE/blog/tags/criptografia","description":"Encripta\xe7\xe3o e prote\xe7\xe3o de dados"},{"inline":true,"label":"nodejs","permalink":"/TP-ADC-SITE/blog/tags/nodejs"}],"readingTime":1.09,"hasTruncateMarker":false,"authors":[{"name":"Andr\xe9 Nunes","title":"UI/UX Designer & Frontend","url":"https://github.com/a89979","imageURL":"https://github.com/a89979.png","key":"andre","page":null}],"frontMatter":{"slug":"seguranca-passwords-hash","title":"\ud83d\udd10 Seguran\xe7a: Fazemos Hash de Passwords, n\xe3o de Batatas","authors":["andre"],"tags":["backend","seguran\xe7a","criptografia","nodejs"],"date":"2025-12-06T00:00:00.000Z"},"unlisted":false,"prevItem":{"title":"\ud83e\udd51 Arquitetura do NutriApp: Python Console com SQLite","permalink":"/TP-ADC-SITE/blog/tech-stack-nutriapp"},"nextItem":{"title":"\ud83c\udf5d Como evitamos \\"Spaghetti Code\\" com Gitflow","permalink":"/TP-ADC-SITE/blog/workflow-git"}},"content":"Na Nutri App, levamos a seguran\xe7a t\xe3o a s\xe9rio como a contagem de macronutrientes.\\nQuando te registas na nossa aplica\xe7\xe3o, prometemos uma coisa: **nunca guardamos a tua password em texto simples.**\\n\\nHoje explicamos como cozinhamos (ou melhor, encriptamos) os teus dados.\\n\\n### O Perigo do Texto Simples \u26a0\ufe0f\\n\\nGuardar passwords como `123456` na base de dados \xe9 como deixar a porta do frigor\xedfico aberta: vai estragar tudo. Se houver uma fuga de dados, os hackers teriam acesso imediato a todas as contas.\\nCumprimos com todas as normas do RGPD.\\n\\n:::danger Nunca fa\xe7as isto! \u274c\\nExemplo de como **N\xc3O** se deve guardar um utilizador:\\n\\n```javascript\\nconst user = { username: \'andre\', password: \'minhapasswordsecreta\' };\\n// Se algu\xe9m ler a base de dados, l\xea a password imediatamente.\\ndb.save(user);\\n```\\n:::\\n\\n### A Solu\xe7\xe3o: Salting & Hashing \ud83e\uddc2\\n\\nEm vez de guardar o texto original, utilizamos um algoritmo de encripta\xe7\xe3o robusto chamado **Bcrypt**.\\n\\nEste processo realiza o **Hashing** da password: transforma a tua senha numa sequ\xeancia complexa de caracteres (o tal \\"pur\xe9\\") que \xe9 matematicamente imposs\xedvel de reverter para a palavra original. Al\xe9m disso, adicionamos um \\"Salt\\" (sal digital aleat\xf3rio) para garantir que cada registo \xe9 \xfanico e indecifr\xe1vel.\\n\\n### \ud83d\udd2e Pr\xf3ximos Passos\\nA seguran\xe7a nunca dorme. No futuro, planeamos implementar:\\n1.  Autentica\xe7\xe3o de Dois Fatores (2FA).\\n2.  Valida\xe7\xe3o de complexidade de passwords (m\xednimo 8 caracteres).\\n\\nNa Nutri App, a *privacidade vem sempre primeiro.* \ud83d\udee1\ufe0f"},{"id":"workflow-git","metadata":{"permalink":"/TP-ADC-SITE/blog/workflow-git","editUrl":"https://github.com/DevPool1/TP-ADC-SITE/blog/2025-12-10-workflow.md","source":"@site/blog/2025-12-10-workflow.md","title":"\ud83c\udf5d Como evitamos \\"Spaghetti Code\\" com Gitflow","description":"Ningu\xe9m gosta de esparguete misturado com c\xf3digo. Na equipa Nutri App, a organiza\xe7\xe3o do reposit\xf3rio \xe9 t\xe3o importante como a organiza\xe7\xe3o das refei\xe7\xf5es.","date":"2025-12-05T00:00:00.000Z","tags":[{"inline":false,"label":"Git","permalink":"/TP-ADC-SITE/blog/tags/git","description":"Controlo de vers\xf5es e Git Flow"},{"inline":false,"label":"Workflow","permalink":"/TP-ADC-SITE/blog/tags/workflow","description":"Fluxo de trabalho e metodologias"},{"inline":false,"label":"Boas Pr\xe1ticas","permalink":"/TP-ADC-SITE/blog/tags/boas-praticas","description":"Padr\xf5es e boas pr\xe1ticas de c\xf3digo"},{"inline":true,"label":"trabalho-em-equipa","permalink":"/TP-ADC-SITE/blog/tags/trabalho-em-equipa"}],"readingTime":1.64,"hasTruncateMarker":false,"authors":[{"name":"Andr\xe9 Nunes","title":"UI/UX Designer & Frontend","url":"https://github.com/a89979","imageURL":"https://github.com/a89979.png","key":"andre","page":null}],"frontMatter":{"slug":"workflow-git","title":"\ud83c\udf5d Como evitamos \\"Spaghetti Code\\" com Gitflow","authors":["andre"],"tags":["git","workflow","boas-pr\xe1ticas","trabalho-em-equipa"],"date":"2025-12-05T00:00:00.000Z"},"unlisted":false,"prevItem":{"title":"\ud83d\udd10 Seguran\xe7a: Fazemos Hash de Passwords, n\xe3o de Batatas","permalink":"/TP-ADC-SITE/blog/seguranca-passwords-hash"},"nextItem":{"title":"\ud83e\udd57 Hello World: O In\xedcio da Nutri App","permalink":"/TP-ADC-SITE/blog/inicio-nutri-app"}},"content":"Ningu\xe9m gosta de esparguete misturado com c\xf3digo. Na equipa Nutri App, a organiza\xe7\xe3o do reposit\xf3rio \xe9 t\xe3o importante como a organiza\xe7\xe3o das refei\xe7\xf5es.\\n\\nHoje partilhamos como estamos a usar o **Git** para manter o projeto saud\xe1vel.\\n\\n### \ud83d\udee0\ufe0f As nossas Ferramentas\\nPara gerir este fluxo, utilizamos o essencial:\\n* **VS Code:** Com a integra\xe7\xe3o nativa de Git.\\n* **GitHub Issues:** Para distribuir tarefas e organizar o Kanban.\\n\\n### \ud83c\udf3f A nossa Estrat\xe9gia de Ramos\\n\\nPara garantir que a `main` est\xe1 sempre pronta para produ\xe7\xe3o (livre de bugs e gorduras saturadas), adot\xe1mos um fluxo rigoroso:\\n\\n1.  **Main:** C\xf3digo sagrado. S\xf3 entra aqui via **Pull Request** aprovado.\\n2.  **Feature/**: Cada nova funcionalidade (ex: `feature/calculo-imc`) nasce num ramo isolado.\\n3.  **Fix/**: Para resolver bugs cr\xedticos que escaparam \xe0 dieta.\\n\\n### O Processo de Code Review\\n\\nAntes de qualquer c\xf3digo ser misturado (`merge`), ele passa por uma revis\xe3o. \xc9 como provar a comida antes de servir aos clientes. Nada entra na panela principal sem o \\"OK\\" de outro chef (developer).\\n\\n#### O que verificamos no PR?\\n- [ ] O c\xf3digo compila?\\n- [ ] Vari\xe1veis t\xeam nomes decentes?\\n- [ ] N\xe3o h\xe1 coment\xe1rios in\xfateis?\\n\\n:::tip Automa\xe7\xe3o\\nNos nossos Pull Requests, usamos palavras-chave como `Closes #29`.\\nIsto faz com que o GitHub feche o Issue automaticamente quando o c\xf3digo \xe9 aceite. M\xe1gico! \ud83e\ude84\\n:::\\n\\n### Exemplo Pr\xe1tico\\n\\nAqui est\xe1 o nosso fluxo habitual no terminal quando iniciamos uma tarefa:\\n# Verificar status antes\\n\\n```bash\\n# 1. Atualizar a base\\ngit checkout main\\ngit pull\\n\\n# 2. Criar o ramo da funcionalidade\\ngit checkout -b feature/nova-funcionalidade\\n\\n# 3. Trabalhar e enviar\\ngit commit -m \\"feat: adiciona l\xf3gica de hidrata\xe7\xe3o\\"\\ngit push origin feature/nova-funcionalidade\\n```\\n\\n:::warning Cuidado com os Conflitos \ud83d\udd25\\nTal como na cozinha, por vezes dois chefs tentam mexer na mesma panela (ficheiro) ao mesmo tempo.\\nQuando temos um *Merge Conflict*, n\xe3o entramos em p\xe2nico: resolvemos em equipa via Discord e garantimos que nenhum c\xf3digo importante \xe9 \\"queimado\\".\\n:::\\n\\n### \ud83d\udcd6 Gloss\xe1rio R\xe1pido\\n* **Commit:** Uma \\"foto\\" do c\xf3digo naquele momento.\\n* **Branch:** Uma linha do tempo paralela.\\n* **Merge:** Juntar duas linhas do tempo."},{"id":"inicio-nutri-app","metadata":{"permalink":"/TP-ADC-SITE/blog/inicio-nutri-app","editUrl":"https://github.com/DevPool1/TP-ADC-SITE/blog/2025-12-04-inicio-nutri-app.md","source":"@site/blog/2025-12-04-inicio-nutri-app.md","title":"\ud83e\udd57 Hello World: O In\xedcio da Nutri App","description":"Bem-vindos ao DevLog oficial da equipa Nutri App!","date":"2025-12-04T00:00:00.000Z","tags":[{"inline":false,"label":"DevLog","permalink":"/TP-ADC-SITE/blog/tags/devlog","description":"Di\xe1rio de desenvolvimento do NutriApp"},{"inline":false,"label":"Roadmap","permalink":"/TP-ADC-SITE/blog/tags/roadmap","description":"Planos futuros e funcionalidades planeadas"},{"inline":false,"label":"Lan\xe7amento","permalink":"/TP-ADC-SITE/blog/tags/lancamento","description":"Not\xedcias sobre lan\xe7amentos e vers\xf5es"}],"readingTime":0.34,"hasTruncateMarker":true,"authors":[{"name":"Andr\xe9 Nunes","title":"UI/UX Designer & Frontend","url":"https://github.com/a89979","imageURL":"https://github.com/a89979.png","key":"andre","page":null},{"name":"Alexandru Tutunaru","title":"Full-stack Developer","url":"https://github.com/ATutunaru","imageURL":"https://github.com/ATutunaru.png","key":"alex","page":null},{"name":"Cosmin Ciocan","title":"Database Specialist","url":"https://github.com/cosmin-fx","imageURL":"https://github.com/cosminciocan.png","key":"cosmin","page":null},{"name":"Firmino Santos","title":"Backend Developer","url":"https://github.com/","imageURL":"https://github.com/firminosantos.png","key":"firmino","page":null}],"frontMatter":{"slug":"inicio-nutri-app","title":"\ud83e\udd57 Hello World: O In\xedcio da Nutri App","authors":["andre","alex","cosmin","firmino"],"tags":["devlog","roadmap","lan\xe7amento"],"date":"2025-12-04T00:00:00.000Z"},"unlisted":false,"prevItem":{"title":"\ud83c\udf5d Como evitamos \\"Spaghetti Code\\" com Gitflow","permalink":"/TP-ADC-SITE/blog/workflow-git"}},"content":"Bem-vindos ao **DevLog** oficial da equipa Nutri App!\\nA partir de hoje, vamos documentar a jornada de transformar c\xf3digo em sa\xfade.\\n\\nO nosso lema \xe9 simples: **Git Push Vegetais, Git Ignore Gorduras**.\\n\\n\x3c!-- truncate --\x3e\\n\\n### \ud83d\ude80 O que estamos a construir?\\n\\nEstamos a desenvolver uma solu\xe7\xe3o completa para gest\xe3o nutricional que inclui:\\n\\n* **C\xe1lculo de IMC** em tempo real.\\n* **Base de dados** de alimentos (CRUD).\\n* **Autentica\xe7\xe3o segura** para m\xfaltiplos utilizadores.\\nt"}]}}')}}]);